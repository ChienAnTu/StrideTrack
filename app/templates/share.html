{% extends "base.html" %}
{% block content %}

<div class="flex pt-16">
  {% include "_sidebar.html" %}
  <main class="sm:ml-64 w-full p-4 mt-4">
    <!-- main body -->
    <div class="pt-20 max-w-4xl mx-auto px-4">
        <h2 class="text-2xl font-semibold mb-6">Share Your Activity</h2>

        {% if activities %}
        <table class="min-w-full table-auto text-sm mb-6">
            <thead>
            <tr class="text-left bg-gray-100">
                <th class="px-4 py-2">Type</th>
                <th class="px-4 py-2">Duration</th>
                <th class="px-4 py-2">Calories</th>
                <th class="px-4 py-2">Date</th>
                <th class="px-4 py-2">Share With</th>
            </tr>
            </thead>
            <tbody>
            {% for a in activities %}
            <tr class="border-b">
                <td class="px-4 py-2">{{ a.activity_type.title() }}</td>
                <td class="px-4 py-2">{{ a.activity_length }}</td>
                <td class="px-4 py-2">{{ a.calories_burned }} kcal</td>
                <td class="px-4 py-2">{{ a.activity_date }}</td>
                <td class="px-4 py-2">
                <form method="POST" action="{{ url_for('share') }}" class="flex space-x-2">
                    <input type="hidden" name="upload_time" value="{{ a.upload_time.isoformat() }}">
                    <input type="email" name="share_email" required placeholder="email"
                        class="border border-gray-300 rounded p-1 text-sm">
                    <button type="submit"
                            class="bg-orange-500 text-white px-2 py-1 rounded hover:bg-orange-600 text-sm">
                    Share
                    </button>
                </form>
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p class="text-gray-600">You haven't uploaded any activity to share yet.</p>
        {% endif %}
    </div>     
  </main>
</div>






{% endblock %}
